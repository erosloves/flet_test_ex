(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{439:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var a=t(5155),c=t(2115);let l=e=>{let{post:s,user:t,props:c}=e,{setSelectedPost:l,getData:r,commentDataURL:o,setCurrentID:i}=c;return(0,a.jsxs)("div",{className:"max-w-md mx-auto bg-white shadow-lg rounded-2xl p-6 space-y-4",onClick:()=>{r(o+"?postId=".concat(s.id),l),i(s.id)},children:[(0,a.jsxs)("h3",{className:"text-black-600 cursor-pointer w-max",children:[t.name," ",(0,a.jsxs)("i",{className:"text-gray-500",children:["@",t.username]})]}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:s.title}),(0,a.jsx)("p",{className:"text-gray-600",children:s.body})]})},r=e=>{let{props:s}=e,{selectedPost:t,setSelectedPost:l,currentID:r,postDataURL:o,userDataURL:i}=s,[n,d]=(0,c.useState)([]),[x,m]=(0,c.useState)([]);return((0,c.useEffect)(()=>{r&&(async()=>{try{let e=await fetch("".concat(o,"?id=").concat(r)),s=await e.json();d(s[0])}catch(e){console.error("Ошибка при загрузке данных getData:",e)}})()},[r]),(0,c.useEffect)(()=>{n&&(async()=>{try{let e=await fetch("".concat(i,"?id=").concat(n.userId)),s=await e.json();console.log(s),m(s[0])}catch(e){console.error("Ошибка при загрузке данных getName:",e)}})()},[n]),t)?(0,a.jsxs)("div",{className:"fixed inset-0 flex items-center justify-center flex-col bg-black bg-opacity-50 ",onClick:()=>l(null),children:[(0,a.jsx)("h2",{className:"text-center text-[35px] text-white",children:"Comments"}),(0,a.jsxs)("div",{className:"flex items-center justify-center gap-5",children:[(0,a.jsx)("div",{className:"bg-white max-w-md p-6 rounded-2xl",onClick:e=>e.stopPropagation(),children:(0,a.jsxs)("div",{className:"max-w-md mx-auto bg-white shadow-lg rounded-2xl p-6 space-y-4",children:[(0,a.jsxs)("h3",{className:"text-black-600 cursor-pointer w-max",children:[x.name," ",(0,a.jsxs)("i",{className:"text-gray-500",children:["@",x.username]})]}),(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:n.title}),(0,a.jsx)("p",{className:"text-gray-600",children:n.body})]})}),(0,a.jsx)("div",{className:"max-w-md max-h-[80vh] bg-white shadow-lg rounded-2xl p-6 space-y-4 overflow-y-scroll",onClick:e=>e.stopPropagation(),children:t.map((e,s)=>(0,a.jsxs)("div",{className:"border-b border-black break-words",children:[(0,a.jsxs)("h3",{className:"text-black-600 cursor-pointer w-max",children:[e.name,(0,a.jsx)("br",{}),(0,a.jsx)("i",{className:"text-gray-500",children:e.email})]}),(0,a.jsx)("p",{className:"text-gray-600",children:e.body})]},s))})]})]}):null},o=()=>{let[e,s]=(0,c.useState)([]),[t,o]=(0,c.useState)([]),[i,n]=(0,c.useState)([]),[d,x]=(0,c.useState)(null),[m,h]=(0,c.useState)(null),p="https://jsonplaceholder.typicode.com/users",u="https://jsonplaceholder.typicode.com/posts",j=async(e,s)=>{try{let t=await fetch(e),a=await t.json();await s(a)}catch(e){console.error(e)}};return(0,c.useEffect)(()=>{j(p,s),j(u,o)},[]),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-center text-[35px]",children:"Posts"}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:t.map(s=>e.filter(e=>e.id===s.userId).map(e=>(0,a.jsx)(l,{post:s,user:e,props:{setSelectedPost:x,getData:j,commentDataURL:"https://jsonplaceholder.typicode.com/comments",setCurrentID:h}},s.id)))}),(0,a.jsx)(r,{props:{selectedPost:d,setSelectedPost:x,currentID:m,postDataURL:u,userDataURL:p}})]})})}},8540:(e,s,t)=>{Promise.resolve().then(t.bind(t,439))}},e=>{var s=s=>e(e.s=s);e.O(0,[441,684,358],()=>s(8540)),_N_E=e.O()}]);